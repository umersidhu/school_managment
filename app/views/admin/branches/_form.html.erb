<%= form_for [:admin, @branch], html:{class:"form-horizontal", "data-parsley-validate" => true } do |f| %>
  <% if @branch.errors.any? %>
    <div id="error_explanation">
      <ul>
        <% @branch.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="form-group">
    <%= f.label "", class:"control-label col-sm-2" do %>
      School:<span class="text-danger">*</span>
    <% end %>
    <div class="col-sm-10">
      <%= f.select :school_id, options_for_select(@schools.collect { | school | [school.name, school.id] }), { prompt: "<--- Select School --->"}, class: "form-control", required: true %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label "", class:"control-label col-sm-2" do %>
      Branch Name:<span class="text-danger">*</span>
    <% end %>
    <div class="col-sm-10">
      <%= f.text_field :branch_name, class: "form-control", placeholder: "Enter branch Name",required: true, "aria-required" => true %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label "", class:"control-label col-sm-2" do %>
      Cover image:<span class="text-danger">*</span>
    <% end %>
    <div class="col-sm-10">
      <%= f.file_field :cover, class: "form-control", required: @branch.cover.blank?, "aria-required" => true %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label "", class:"control-label col-sm-2" do %>
      City:<span class="text-danger">*</span>
    <% end %>
    <div class="col-sm-10">
      <%= f.text_field :city, class: "form-control", placeholder: "Enter branch city", required: true, "aria-required" => true %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label "", class:"control-label col-sm-2" do %>
      Address:<span class="text-danger">*</span>
    <% end %>
    <div class="col-sm-10">
      <%= f.text_field :address, class: "form-control", placeholder: "Enter branch address", required: true, "aria-required" => true %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label "", class:"control-label col-sm-2" do %>
      Status:<span class="text-danger">*</span>
    <% end %>
    <div class="col-sm-10">
      <%= f.select :status, Branch.statuses.map{|key, value| [key.titleize, key ]}, {}, class: "form-control", "aria-required" => true %>
    </div>
  </div>
  <div class="form-group"> 
    <div class="col-sm-offset-2 col-sm-10">
      <%= f.submit "Submit", class: "btn btn-success" %>
      <%= link_to "Back", admin_branches_path, class: "btn btn-primary" %>
    </div>
  </div>
<% end %>